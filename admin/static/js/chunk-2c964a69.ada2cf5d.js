(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c964a69"],{1328:function(e,t,a){"use strict";a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"k",(function(){return l})),a.d(t,"l",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"i",(function(){return c})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"j",(function(){return b}));var r=a("b775"),n=a("fed1"),i=a.n(n);function s(e){return Object(r["a"])({url:"/login/getUserList",method:"post",data:i.a.stringify(e)})}function o(e){return Object(r["a"])({url:"/login/getUserCount",method:"post",data:i.a.stringify(e)})}function l(e){return Object(r["a"])({url:"/login/updateUserInfo",method:"post",data:i.a.stringify(e)})}function d(e){return Object(r["a"])({url:"/login/updateUserState",method:"post",data:i.a.stringify(e)})}function u(e){return Object(r["a"])({url:"/login/deleteUser",method:"post",data:i.a.stringify(e)})}function c(e){return Object(r["a"])({url:"/login/saveUser",method:"post",data:i.a.stringify(e)})}function m(e){return Object(r["a"])({url:"/areaManage/getAreaList",method:"post",data:i.a.stringify(e)})}function p(e){return Object(r["a"])({url:"/areaManage/getAreaCount",method:"post",data:i.a.stringify(e)})}function f(e){return Object(r["a"])({url:"/areaManage/addArea",method:"post",data:i.a.stringify(e)})}function h(e){return Object(r["a"])({url:"/areaManage/copyArea",method:"post",data:i.a.stringify(e)})}function g(e){return Object(r["a"])({url:"/areaManage/deleteArea",method:"post",data:i.a.stringify(e)})}function b(e){return Object(r["a"])({url:"/areaManage/updateArea",method:"post",data:i.a.stringify(e)})}},"35fb":function(e,t,a){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){return r(e)||n(e)||i()}a.d(t,"a",(function(){return s}))},"4cf7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"nav"},[a("el-form",{ref:"AddForm",staticClass:"nav-form",attrs:{"label-width":"80px"}},[a("el-form-item",{staticClass:"nav-form-item",attrs:{label:"关键词："}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名查询",clearable:""},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"nav-form-item"},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("新增")])],1)],1),e._v(" "),a("el-form",{staticClass:"nav-form-1",attrs:{"label-width":"80px"}},[a("el-form-item",{staticClass:"nav-form-item",attrs:{label:"企业："}},[a("el-select",{attrs:{placeholder:"请选择企业"},on:{change:e.querryUser},model:{value:e.busiid,callback:function(t){e.busiid=t},expression:"busiid"}},e._l(e.busiList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.isAddUser,visible:e.dialogAddVis,width:"50%"},on:{"update:visible":function(t){e.dialogAddVis=t}}},[a("el-form",{ref:"AddForm",attrs:{rules:e.rulesAddForm,model:e.addForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机"},model:{value:e.addForm.mobile,callback:function(t){e.$set(e.addForm,"mobile",e._n(t))},expression:"addForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.addForm.age,callback:function(t){e.$set(e.addForm,"age",e._n(t))},expression:"addForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",e._n(t))},expression:"addForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职务",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入职务"},model:{value:e.addForm.position,callback:function(t){e.$set(e.addForm,"position",e._n(t))},expression:"addForm.position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"健康状态",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入健康状态"},model:{value:e.addForm.healthyState,callback:function(t){e.$set(e.addForm,"healthyState",e._n(t))},expression:"addForm.healthyState"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[a("el-option",{attrs:{label:"男",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"0"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAddVis=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confim}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.userList,lazy:!0},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{align:"center","min-width":"50",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"name","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mobile",label:"手机","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"age",label:"年龄","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"address",label:"地址","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"sex",formatter:e.sex,label:"性别","min-width":"80"}}),e._v(">\n    "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.editeUser(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.deleteUser(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next",total:e.total,"page-size":e.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1)},n=[],i=(a("7364"),a("35fb")),s=a("1328"),o=a("b775"),l=a("fed1"),d=a.n(l);function u(e){return Object(o["a"])({url:"/employee/add",method:"post",data:d.a.stringify(e)})}function c(e){return Object(o["a"])({url:"/employee/delete",method:"post",data:d.a.stringify(e)})}function m(e){return Object(o["a"])({url:"/employee/queryList",method:"post",data:d.a.stringify(e)})}function p(e){return Object(o["a"])({url:"/employee/queryListCount",method:"post",data:d.a.stringify(e)})}function f(e){return Object(o["a"])({url:"/employee/update",method:"post",data:d.a.stringify(e)})}a("9870");var h={data:function(){return{isAdd:!1,dialogAddVis:!1,busiid:"",addForm:{address:"",age:"",healthyState:"",id:"",mobile:"",name:"",position:"",sex:""},isAddUser:"",muenList:[],userList:[],listLoading:!0,param:{},page:1,total:0,sels:[],pageSize:10,busiList:[],rulesAddForm:{address:[{required:!0,message:"请输入地址",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{pattern:/^[0-9]*$/,message:"请输入数字",trigger:"blur"}]}}},mounted:function(){this.queryList(),this.getUserCount()},computed:{},methods:{selsChange:function(e){this.sels=e},handleCurrentChange:function(e){this.page=e,this.queryList()},queryList:function(){var e=this;this.listLoading=!0,this.param.page=this.page,this.param.companyId=this.busiid,this.param.pageSize=this.pageSize,m(this.param).then((function(t){e.userList=Object(i["a"])(t.result),e.listLoading=!1,e.queryListCount()}))},queryListCount:function(){var e=this;this.param.companyId=this.busiid,p(this.param).then((function(t){e.total=t.result}))},sex:function(e){return"0"===e.sex?"女":"男"},indexMethod:function(e){return 2*e},changePageSize:function(){this.queryList()},addUser:function(){this.$refs.AddForm.clearValidate(),this.isAdd=!0,this.addForm={},this.isAddUser="新增用户",this.dialogAddVis=!0},search:function(){this.queryList()},deleteUser:function(e,t){var a=this;this.$confirm("删除后不可恢复，是否确认删除？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){var e={ids:t.id};c(e).then((function(e){a.$message({showClose:!0,message:"删除成功",type:"success"}),a.queryList()}))}))},confim:function(){var e=this;this.$refs.AddForm.validate((function(t){t&&(e.isAdd?e.saveUser():e.updateUser())}))},editeUser:function(e,t){this.isAdd=!1,this.isAddUser="修改用户",this.addForm.name=t.name,this.addForm.id=t.id,this.addForm.sex=t.sex,this.addForm.mobile=t.mobile,this.addForm.position=t.position,this.addForm.age=t.age,this.addForm.healthyState=t.healthyState,this.addForm.address=t.address,this.$refs.AddForm.clearValidate(),this.dialogAddVis=!0},updateUser:function(){var e=this;f(this.addForm).then((function(t){1===t.statusCode?(e.dialogAddVis=!1,e.queryList(),e.$message({message:t.message,type:"success"})):e.$message({message:t.message,type:"warning"})}))},saveUser:function(){var e=this;this.addForm.companyId=this.busiid,u(this.addForm).then((function(t){1===t.statusCode?(e.dialogAddVis=!1,e.queryList(),e.$message({message:t.message,type:"success"})):e.$message({message:t.message,type:"warning"})}))},getUserCount:function(){var e=this;Object(s["h"])().then((function(t){var a={page:1,pageSize:t.result};Object(s["g"])(a).then((function(t){e.busiList=Object(i["a"])(t.result)}))}))},querryUser:function(){this.queryList()}}},g=h,b=(a("afe7"),a("6691")),y=Object(b["a"])(g,r,n,!1,null,"77b478d8",null);t["default"]=y.exports},9870:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var r=a("b775"),n=a("fed1"),i=a.n(n);function s(e){return Object(r["a"])({url:"/permission/getAllRole",method:"post",data:i.a.stringify(e)})}function o(e){return Object(r["a"])({url:"/permission/saveRole",method:"post",data:i.a.stringify(e)})}},afe7:function(e,t,a){"use strict";var r=a("ed96"),n=a.n(r);n.a},ed96:function(e,t,a){}}]);