(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2178fa"],{c6f7:function(e,o,n){"use strict";n.r(o);var t=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"off","label-position":"left"}},[n("div",{staticClass:"vx-login-form-top"},[n("span",{staticClass:"vx-login-title"},[e._v(e._s(e.loginModel?"厂商登录":"普通登录"))]),n("span",{on:{click:function(o){e.isPhoneLogin=!e.isPhoneLogin}}},[n("vx-icon",{attrs:{size:1,name:e.isPhoneLogin?"login":"phone"}}),n("span",[e._v(e._s(e.isPhoneLogin?"用户名密码登录":"短信登陆"))])],1)]),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("vx-icon",{attrs:{size:1.2,name:e.isPhoneLogin?"phone":"login"}})],1),n("el-input",{attrs:{placeholder:e.isPhoneLogin?"手机号":"用户名",type:"text",tabindex:"1","auto-complete":"off"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}})],1),e.isPhoneLogin?n("el-form-item",[n("span",{staticClass:"svg-container"},[n("vx-icon",{attrs:{size:1.2,name:"verify"}})],1),n("el-input",{key:e.passwordType,attrs:{type:e.passwordType,placeholder:"验证码",tabindex:"2","auto-complete":"off"},nativeOn:{keyup:[function(o){return e.checkCapslock(o)},function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleLogin(o)}]},model:{value:e.loginForm.veriPassword,callback:function(o){e.$set(e.loginForm,"veriPassword",o)},expression:"loginForm.veriPassword"}}),n("span",{staticClass:"vx-getcode",class:e.btnDisabled?"vx-disable":"",on:{click:e.getCodeHandler}},[e._v(e._s(e.text))])],1):n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("vx-icon",{attrs:{size:1.2,name:"password"}})],1),n("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",tabindex:"2","auto-complete":"off"},nativeOn:{keyup:[function(o){return e.checkCapslock(o)},function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleLogin(o)}]},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}}),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("vx-icon",{attrs:{name:"password"===e.passwordType?"eye-close":"eye"}})],1)],1),n("div",{staticClass:"vx-login-footer"},[n("span",[e._v("忘记密码")]),n("span",[e._v("注册新账号")])]),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin(o)}}},[e._v("登录")])],1)],1)},s=[],i={name:"Login",data:function(){var e=function(e,o,n){o?n():n(new Error("请正确输入该字段"))},o=function(e,o,n){o.length<6?n(new Error("密码不能小于6位")):n()};return{isPhoneLogin:!1,btnDisabled:!1,text:"获取验证码",loginForm:{username:"",password:"",veriPassword:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:o}]},passwordType:"password",loading:!1,showDialog:!1,redirect:void 0}},computed:{loginModel:function(){return"vendo"===this.$route.query.loginModel}},methods:{checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.shiftKey,n=e.key;n&&1===n.length&&(this.capsTooltip=!!(o&&n>="a"&&n<="z"||!o&&n>="A"&&n<="Z")),"CapsLock"===n&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(){e.loading=!1}))}))},getCodeHandler:function(){var e=this,o=59;this.timer||(this.text="验证码（60）",this.count=o,this.btnDisabled=!0,this.timer=setInterval((function(){e.count>=0&&e.count<=o?(e.text="验证码（"+e.count+"）",e.count--):(e.text="获取验证码",e.btnDisabled=!1,clearInterval(e.timer),e.timer=null)}),1e3))}}},a=i,r=n("623f"),l=Object(r["a"])(a,t,s,!1,null,null,null);o["default"]=l.exports}}]);