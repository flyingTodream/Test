(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f04be"],{"9c86":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vx-download"},[t("div",{staticClass:"vx-download-title"},[t("span",[e._v("下载文件")]),t("i",{staticClass:"el-icon-close",on:{click:e.closeDownloadHandler}})]),t("div",{staticClass:"vx-download-fileType"},[t("div",{staticClass:"vx-download-fileType-text"},[e._v("文件类型")]),t("div",[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.fileType,callback:function(a){e.fileType=a},expression:"fileType"}},[t("el-option",{staticClass:"vx-download-fileType-option",attrs:{label:"PNG",value:"PNG"}},[t("div",[e._v("PNG")]),t("div",{staticClass:"vx-download-fileType-type-label"},[e._v("优质无损图片，文件较大，支持透明背景")])]),t("el-option",{staticClass:"vx-download-fileType-option",attrs:{label:"JPG",value:"JPG"}},[t("div",[e._v("JPG")]),t("div",{staticClass:"vx-download-fileType-type-label"},[e._v("文件较小的图片，不支持透明背景")])])],1)],1),t("div",[t("el-select",{directives:[{name:"show",rawName:"v-show",value:"JPG"===e.fileType,expression:"fileType === 'JPG'"}],attrs:{placeholder:"请选择"},model:{value:e.compress,callback:function(a){e.compress=a},expression:"compress"}},[t("el-option",{attrs:{label:"100%",value:1}},[t("span",{staticStyle:{float:"left"}},[e._v("100%")]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v("(无压缩)")])]),t("el-option",{attrs:{label:"80%",value:.8}},[t("span",{staticStyle:{float:"left"}},[e._v("80%")]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}})]),t("el-option",{attrs:{label:"70%",value:.7}},[t("span",{staticStyle:{float:"left"}},[e._v("70%")]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}})]),t("el-option",{attrs:{label:"50%",value:.5}},[t("span",{staticStyle:{float:"left"}},[e._v("50%")]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v("(普通压缩)")])]),t("el-option",{attrs:{label:"20%",value:.2}},[t("span",{staticStyle:{float:"left"}},[e._v("20%")]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}})])],1)],1),t("div",{staticClass:"vx-download-fileType-text"},[e._v("作品水印")]),t("div",{staticClass:"vx-download-watermark"},[t("el-radio",{attrs:{label:!0},model:{value:e.watermark,callback:function(a){e.watermark=a},expression:"watermark"}},[e._v("\n        高清无水印\n        "),t("span",[e._v("（限时免费）")])]),t("el-radio",{attrs:{label:!1},model:{value:e.watermark,callback:function(a){e.watermark=a},expression:"watermark"}},[e._v("有水印")])],1),e._m(0),t("div",{staticClass:"vx-download-download",on:{click:e.download}},[e._v("确认下载")]),t("div",{staticClass:"vx-download-download-phone"},[e._v("下载到手机")])]),t("el-dialog",{attrs:{"show-close":!1,top:"30vh",modal:!1,visible:e.dialogVisible,width:"80%","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("p",[t("i",{staticClass:"el-icon-loading"}),t("span",{staticClass:"vx-download-loading"},[e._v("正在导出图片，请稍候...")])]),t("el-progress",{attrs:{percentage:e.proess}})],1)],1)},o=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vx-download-tips"},[t("p",[e._v("限时免费：此设计中包含的字体及图片均可免费使用、分享及发布，并用作商业用途。请放心使用！")]),t("a",[e._v("查看使用及版权细则")])])}],s=(t("63ff"),t("e5af")),i=t("a10b"),n={name:"vx-download",data:function(){return{dialogVisible:!1,fileType:"PNG",compress:1,watermark:!0,proess:0}},methods:{closeDownloadHandler:function(){this.$emit("close")},download:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var a,t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.proess=0,this.dialogVisible=!0,a=setInterval((function(){t.proess<98?t.proess+=1:clearInterval(a)}),200),e.next=5,this.$parent.download(this.fileType,this.watermark,this.compress).then((function(e){if(clearInterval(a),t.proess=100,"IE"==t.myBrowser())window.navigator.msSaveBlob(e,name+".jpg");else{var l=document.createElement("a");l.download=name,l.href=URL.createObjectURL(e),l.click()}t.dialogVisible=!1,t.$emit("close")})).catch((function(e){t.proess=0,clearInterval(a),t.dialogVisible=!1,i["c"].danger(e)}));case 5:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}(),myBrowser:function(){var e=navigator.userAgent;return e.indexOf("OPR")>-1?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Trident")>-1?"IE":e.indexOf("Edge")>-1?"Edge":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":void 0}}},r=n,c=t("5511"),d=Object(c["a"])(r,l,o,!1,null,null,null);a["default"]=d.exports}}]);